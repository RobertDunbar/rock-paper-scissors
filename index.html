<!DOCTYPE html>
<!-- The Odin Project - Rock, Paper, Scissors-->
<html>
    <head>
        <title>My page</title>
        <link href="../skeleton/styles/style.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <script>
            const PLAYER_WIN = 0;
            const COMPUTER_WIN = 1;
            const DRAW = 2;
            function playRound( playerSelection, computerSelection) {
                let thisWinner;
                switch (computerSelection) {
                    case "rock":
                        if (playerSelection === "paper") {
                            thisWinner = PLAYER_WIN;
                        } else if (playerSelection === "rock") {
                            thisWinner = COMPUTER_WIN;
                        } else {
                             thisWinner = DRAW;
                        }
                    return thisWinner;
                    break;
                    case "paper":
                    if (playerSelection === "scissors") {
                            thisWinner = PLAYER_WIN;
                        } else if (playerSelection === "paper") {
                            thisWinner = COMPUTER_WIN;
                        } else {
                             thisWinner = DRAW;
                        }
                    return thisWinner;
                    break;
                    case "scissors":
                    if (playerSelection === "rock") {
                            thisWinner = PLAYER_WIN;
                        } else if (playerSelection === "scissors") {
                            thisWinner = COMPUTER_WIN;
                        } else {
                             thisWinner = DRAW;
                        }
                    return thisWinner;
                    break;
                }
            }

            function game (numRounds) {
                let playerWins = 0;
                let computerWins = 0;
                for(gameNum = 1; gameNum <= numRounds; gameNum++) {
                    let playerSelection = prompt("Rock, Paper or Scissors?", "rock");
                    playerSelection = playerSelection.toLowerCase();
                    let computerSelection = computerPlay();
                    let gameOutcome = playRound(playerSelection, computerSelection);
                    if ( gameOutcome === 0) {
                        console.log("Player Wins!");
                        playerWins += 1;
                    } else if (gameOutcome === 1) {
                        console.log("Computer Wins!");
                        computerWins += 1;
                    } else {
                        console.log("Draw!");
                    }
                }
                if(playerWins > computerWins) {
                    console.log("Player wins overall game!");
                } else if (computerWins > playerWins) {
                    console.log("Computer wins overall game!");
                } else {
                    console.log("Player and Computer draw overall game!");
                }
            }

            let computerPlay = function() {
                let randomChoice = Math.round(Math.random() * 3);
                switch (randomChoice) {
                    case 1:
                        return "rock";
                        break;
                    case 2:
                        return "paper";
                        break;
                    default:
                        return "scissors";
                }
            };

            game(5);
        </script>
    </body>
</html>